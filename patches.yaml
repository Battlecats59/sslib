global:
  startstoryflags:
    - 27 # Loftwing
    - 46 # Faron light pillar
    - 47 # Eldin light pillar
    - 48 # Lanayru light pillar
    - 194 # open thunderhead
    - 58 # b-wheel
    - 724 # Prevent first time light pillar CS sending player always to faron
    - 789 # Set after skyward striking imp spike first time (allows dowsing option [still needs a goddess sword])
F000: # Skyloft
  - name: Trial
    type: oarcadd
    oarc: PLHarpPlay
    destlayer: 0
  - name: Trial
    type: oarcadd
    oarc: SirenEntrance
    destlayer: 0
  - name: Trial
    type: oarcadd
    oarc: PLSwordStick
    destlayer: 0
  - name: Trial # trial object
    type: objmove
    id: 0xFDD8
    layer: 5
    destlayer: 0
    room: 0
    objtype: OBJ
  - name: Trial # butterflies
    type: objmove
    id: 0xFE16
    layer: 5
    destlayer: 0
    room: 0
    objtype: STAG
  - name: Trial # trial object
    type: objdelete
    id: 0xFDD6
    layer: 4
    room: 0
    objtype: OBJ
  - name: Trial # butterflies
    type: objdelete
    id: 0xFDFF
    layer: 4
    room: 0
    objtype: STAG
  - name: Batreaux unlock
    type: objpatch
    id: 0xFC4A
    layer: 0
    room: 0
    objtype: OBJS
    patch:
      anglex: 0xFF00 # sets the flag to -1 (meaning open)
  - name: Sparring Hall Door Left
    type: objpatch
    id: 0xFC38
    layer: 0
    room: 0
    objtype: OBJS
    patch:
      anglex: 0xFF00
  - name: Sparring Hall Door right
    type: objpatch
    id: 0xFC37
    layer: 0
    room: 0
    objtype: OBJS
    patch:
      anglex: 0xFF00
  - name: UA Door right
    type: objpatch
    id: 0xFC30
    layer: 0
    room: 0
    objtype: OBJS
    patch:
      anglex: 0xFF00
  - name: UA Door left
    type: objpatch
    id: 0xFC2F
    layer: 0
    room: 0
    objtype: OBJS
    patch:
      anglex: 0xFF00
  # - name: more save statues
  #   type: objadd
  #   layer: 0
  #   room: 0
  #   objtype: OBJS
  #   object:
  #     params1: 0xFFFF002F
  #     params2: 0xFF5FFFFF
  #     posx: 2186.927734375
  #     posy: 393.760009765625
  #     posz: 2804.235107421875
  #     anglex: 65535
  #     angley: 728
  #     anglez: 65535
  #     id: 0xFC32
  #     name: saveObj
  # - name: delete statue
  #   type: objdelete
  #   id: 0xFC32
  #   layer: 0
  #   room: 0
  #   objtype: OBJS
F012r: # Batreaux home
  - name: Batreaux unlock
    type: objpatch
    id: 0xFC00
    layer: 0
    room: 0
    objtype: OBJS
    patch:
      anglex: 0xFF00 # sets the flag to -1 (meaning open)
F100: # Faron main area
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Yerbal
    type: objmove
    id: 0x52B6
    layer: 4
    destlayer: 1
    room: 0
    objtype: OBJ
  - name: Yerbal Spawn
    type: objpatch
    id: 0x52B6
    layer: 4
    room: 0
    objtype: OBJ
    patch:
      trigstoryfid: 206 # scale
  - name: Trial
    type: oarcadd
    oarc: PLHarpPlay
    destlayer: 1
  - name: Trial
    type: oarcadd
    oarc: SirenEntrance
    destlayer: 1
  - name: Trial
    type: oarcadd
    oarc: PLSwordStick
    destlayer: 1
  - name: Trial # trial object
    type: objmove
    id: 0x02B0
    layer: 3
    destlayer: 1
    room: 0
    objtype: OBJ
  - name: Trial # butterflies
    type: objmove
    id: 0xFEE3
    layer: 3
    destlayer: 1
    room: 0
    objtype: STAG
F101: # Deep Woods
  - name: Layer override
    type: layeroverride
    override: # default layer 1, remove layer 3+
      - story_flag: 5 # beat Skyview
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 1
D100: # Skyview
  - name: Layer override
    type: layeroverride
    override: # keep layers normal but remove layer 3+
      - story_flag: 206 # storyflag after water dragons scale
        night: 0
        layer: 2
      - story_flag: 4 # skyview entrance CS
        night: 0
        layer: 1
  - name: Small Key Soil
    type: objmove
    id: 0xFC4B
    layer: 2
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Empty Soil
    type: objdelete
    id: 0xFC50
    layer: 1
    room: 4
    objtype: OBJ
  # - name: Barr inside Beetle Room
  #   type: objpatch
  #   id: 0xFFFF
  #   layer: 0
  #   room: null
  #   objtype: OBJ
  #   patch:
  #     side2scenefid: FF #always open
  - name: Eyes
    type: oarcadd
    oarc: SwitchEye
    destlayer: 0
  - name: First Eye
    type: objmove
    id: 0xFC17
    layer: 1
    destlayer: 0
    room: 1
    objtype: OBJ
  - name: First Eye
    type: objmove
    id: 0xFC1A
    layer: 1
    destlayer: 0
    room: 1
    objtype: STAG
  - name: Right Room Eyes
    type: objmove
    id: 0xFC48
    layer: 1
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Right Room Eyes
    type: objmove
    id: 0xFC49
    layer: 1
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Right Room Eyes
    type: objmove
    id: 0xFC4A
    layer: 1
    destlayer: 0
    room: 4
    objtype: OBJ
  - name: Left Room Eyes
    type: objmove
    id: 0xFC31
    layer: 1
    destlayer: 0
    room: 7
    objtype: OBJ
  - name: Left Room Eyes
    type: objmove
    id: 0xFC32
    layer: 1
    destlayer: 0
    room: 7
    objtype: OBJ
  - name: Left Room Eyes
    type: objmove
    id: 0xFC33
    layer: 1
    destlayer: 0
    room: 7
    objtype: OBJ
  - name: Left Room Eyes
    type: objmove
    id: 0xFC34
    layer: 1
    destlayer: 0
    room: 7
    objtype: OBJ
  - name: Bar conected to chest
    type: objpatch
    id: 0x1018
    layer: 2
    room: 10
    objtype: OBJS
    patch:
      setscenefid: 13 # 0x0 20 (0xD)
  - name: Bar conected to chest
    type: objpatch
    id: 0x1018
    layer: 1
    room: 10
    objtype: OBJS
    patch:
      setscenefid: 13 # 0x0 20 (0xD)
  # - name: delete statue
  #   type: objdelete
  #   id: 0xFC1D
  #   layer: 0
  #   room: 0
  #   objtype: OBJS
F200: # Eldin main area
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 19
        night: 0
        layer: 4
      - story_flag: 677
        night: 0
        layer: 3
      - story_flag: 48
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 1
  - name: Mogma Turf Rock
    type: objmove
    id: 0x0CAE
    layer: 1
    destlayer: 0
    room: 2
    objtype: OBJS
  - name: First Mogma cs Fi
    type: objdelete
    id: 0xFC22
    layer: 1
    room: 0
    objtype: OBJ
  - name: First Mogma cs left mogma
    type: objdelete
    id: 0x001F
    layer: 1
    room: 0
    objtype: OBJ
  - name: First Mogma cs right mogma
    type: objdelete
    id: 0x0020
    layer: 1
    room: 0
    objtype: OBJ
  - name: Mogma near Mogma Turf cs
    type: objdelete
    id: 0x0CB9
    layer: 1
    room: 2
    objtype: OBJ
  - name: Just saying cs
    type: objdelete
    id: 0x248C
    layer: 1
    room: 4
    objtype: OBJ
  - name: Trial
    type: oarcadd
    oarc: PLHarpPlay
    destlayer: 0
  - name: Trial
    type: oarcadd
    oarc: SirenEntrance
    destlayer: 0
  - name: Trial
    type: oarcadd
    oarc: PLSwordStick
    destlayer: 0
  - name: Trial # trial object
    type: objmove
    id: 0x14AE
    layer: 2
    destlayer: 0
    room: 2
    objtype: OBJ
  - name: Trial # butterflies
    type: objmove
    id: 0x14C0
    layer: 2
    destlayer: 0
    room: 2
    objtype: STAG
F210: # Mogma Turf
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Cobal
    type: objmove
    id: 0xFC70
    layer: 2
    destlayer: 1
    room: 0
    objtype: OBJ
D200: # ET
  - name: Bomb Bag from Ledd
    type: objdelete
    id: 0xFC52
    layer: 0
    room: 1
    objtype: OBJ
  - name: Fi after Bridge
    type: objdelete
    id: 0xFC5E
    layer: 0
    room: 1
    objtype: OBJ
B200: # Boss Room
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 7 # Beat ET
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 1
F300: # lanayru Main Area
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: -1
        night: 0
        layer: 1
  - name: Chest Spawns after LMF
    type: objpatch
    id: 0xFE12
    layer: 2
    room: 0
    objtype: OBJS
    patch:
      spawnscenefid: 30 # 0x1E
  - name: Chest on LMF
    type: objmove
    id: 0xFE12
    layer: 2
    destlayer: 1
    room: 0
    objtype: OBJS
F301_1: # Sand Sea Main Area
  - name: Skipper's Text at first time in Sand  # gets rid of 2x40 so also of the Evnttags
    type: objdelete
    id: 0xFC05
    layer: 0
    room: 0
    objtype: OBJ
  - name: Area Block to Pirate Stronghold
    type: objdelete
    id: 0xFC65
    layer: 0
    room: 0
    objtype: STAG
F402: # Sealed Temple
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 342
        night: 0
        layer: 7
      - story_flag: 133
        night: 0
        layer: 6
      - story_flag: 175
        night: 0
        layer: 6
      - story_flag: 200
        night: 0
        layer: 5
      - story_flag: 132
        night: 0
        layer: 4
      - story_flag: 140
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 1
  - name: Imp 2 trigger
    type: objmove
    id: 0xFC4C
    layer: 3
    destlayer: 2
    room: 2
    objtype: OBJ
  - name: Imp 2 Groose
    type: objmove
    id: 0xFC4A
    layer: 3
    destlayer: 2
    room: 2
    objtype: OBJ
  - name: Imp 2 trigger aswell?
    type: objmove
    id: 0xFC52
    layer: 3
    destlayer: 2
    room: 2
    objtype: OBJ
  - name: Imp 2 trigger aswell??
    type: objmove
    id: 0xFC4B
    layer: 3
    destlayer: 2
    room: 2
    objtype: OBJ
  - name: NpcInv
    type: objmove
    id: 0xFC51
    layer: 3
    destlayer: 2
    room: 2
    objtype: OBJ
  - name: SotH start cs
    type: objdelete
    id: 0xFC4F
    layer: 4
    room: 2
    objtype: OBJ
  - name: Groose Tree cs
    type: objdelete
    id: 0xFC4E
    layer: 4
    room: 2
    objtype: OBJ
  - name: to BtT unlock
    type: objpatch
    id: 0xFC00
    layer: 0
    room: 2
    objtype: OBJS
    patch:
      anglex: 0xFF00 # sets the flag to -1 (meaning open)
  - name: to BtT unlock
    type: objpatch
    id: 0xFC01
    layer: 0
    room: 2
    objtype: OBJS
    patch:
      anglex: 0xFF00 # sets the flag to -1 (meaning open)
F401: # Sealed grounds Whirlpool
  - name: Nightmare Cs 1
    type: objdelete
    id: 0xFC9C
    layer: 1
    room: 1
    objtype: STAG
  - name: Nightmare Cs 2
    type: objdelete
    id: 0xFCAB
    layer: 1
    room: 1
    objtype: STAG
  - name: Nightmare Cs 3
    type: objdelete
    id: 0xFC9D
    layer: 1
    room: 1
    objtype: STAG
  - name: Door Cs requirement
    type: objpatch
    id: 0xFCA2
    layer: 1
    room: 1
    objtype: STAG
    patch:
      trigstoryfid: 36 # always trigger
  - name: Door cs to Layer 0
    type: objmove
    id: 0xFCA2
    layer: 1
    destlayer: 0
    room: 1
    objtype: STAG
F400: # Behind the Temple
  - name: Layer override
    type: layeroverride
    override:
      - story_flag: 342
        night: 0
        layer: 8
      - story_flag: 16
        night: 0
        layer: 7
      - story_flag: 133
        night: 0
        layer: 6
      - story_flag: 200
        night: 0
        layer: 5
      - story_flag: 9
        night: 0
        layer: 3
      - story_flag: 36
        night: 0
        layer: 2
      - story_flag: -1
        night: 0
        layer: 0
